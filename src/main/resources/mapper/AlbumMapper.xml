<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.njnu.eamsbe.mapper.AlbumMapper">
    <insert id="addAlbum">
        INSERT INTO albums
        VALUES (#{albumId},
                #{userId},
                #{adminId},
                #{categoryId},
                #{albumName},
                #{albumDescription},
                #{coverId})
    </insert>
    <delete id="deleteAlbumById">
        delete
        from photos
        where album_id = #{albumId};
        delete
        from albums
        where album_id = #{albumId};
    </delete>

    <select id="findAllAlbum" resultType="edu.njnu.eamsbe.pojo.entity.Album">
        SELECT album_id          as albumId,
               user_id           as userId,
               admin_id          as adminId,
               category_id       as categoryId,
               album_name        as albumName,
               album_description as albumDescription,
               cover_id          as coverId
        FROM albums
    </select>
</mapper>